{% load static %}
<!-- 네비바 -->
<nav class="navbar bg-white navbar-expand-md d-flex flex-nowrap fixed-top w-100">
  <!-- 로고 -->
  <div class="container-fluid p-0" style="width: 84%">
    <a class="navbar-brand" href="/main">
      <img src="https://www.instagram.com/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png" alt="" srcset="" style="width: 50%"/>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar2" aria-controls="offcanvasNavbar2">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="offcanvas offcanvas-end text-bg-white w-50" tabindex="-1" id="offcanvasNavbar2" aria-labelledby="offcanvasNavbar2Label">
      <div class="offcanvas-body">
        <!-- 검색 -->
        <div style="margin: 0 auto">
          <form class="form-inline" role="search" id="search">
            <input class="search form-control" type="search" placeholder="Search" aria-label="Search"/>
          </form>
        </div>

        <!-- 메뉴 -->
        <div>
          <!-- 메뉴 리스트 -->
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link material-icons" href="/main">home</a>
            </li>
            <li class="nav-item" style="cursor: pointer">
              <a class="nav-link material-icons-outlined" data-bs-toggle="modal" data-bs-target="#add_box">
                add_box
              </a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="width: 40px; height: 40px">
                <img class="rounded-circle" alt="avatar1" src="{% get_media_prefix %}{{ user.profile_image }}" style="width: 25px; height: 25px; object-fit: cover"/>
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                <li>
                  <a href="/content/profile" class="dropdown-item text-center">프로필</a>
                </li>
                <li>
                  <hr class="dropdown-divider" style="margin:0.1rem 0rem !important"/>
                </li>
                <li>
                  <a href="/user/logout" class="dropdown-item text-center">로그아웃</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

<!-- add_box modal -->
<!-- backdrop 했을때 알림창 뜨면서 닫기 물어보는 것 구현 필요함 -->
<div class="modal fade" id="add_box" data-bs-backdrop="static" tabindex="-1">
  <!-- 이미지 업로드 모달 -->
  <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg" id="modal1">
    <div class="modal-content">
      <div class="modal-header border-0">
        <!-- <h1 class="modal-title fs-5">Modal Title</h1> -->
        <button type="button" class="btn btn-secondary close-modal" data-bs-dismiss="modal">Close</button>
        <div>새 이미지 업로드</div>
        <button type="button" class="btn btn-primary next-modal">Next</button>
      </div>

      <div class="modal-body border mx-2 img_upload">
        <div class="container-fluid">
          <p id="upload_text">이미지를 올려주세요</p>
        </div>
      </div>
    </div>
  </div>

  <!-- 텍스트 입력 모달 -->
  <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg" id="modal2" style="display: none">
    <div class="modal-content">
      <div class="modal-header border-0">
        <!-- <h1 class="modal-title fs-5">Modal Title</h1> -->
        <button type="button" class="btn btn-secondary close-modal" data-bs-dismiss="modal">Close</button>
        <div>텍스트 입력</div>
        <button type="button" class="btn btn-primary" id="feed_create_button">Upload</button>
      </div>

      <div class="modal-body border mx-2 img_upload">
        <div class="container-fluid row m-auto h-100">
          <div class="left_image border col-8" style="height: inherit"></div>
          <div class="right_text col-4" style="height: inherit">
            <textarea class="form-control rounded-0" id="input_feed_content" rows="3" placeholder="텍스트입력" style="height: inherit; resize: none; overflow-x: hidden"></textarea>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- modal end -->
